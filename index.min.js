import express from"express";import bodyParser from"body-parser";import{dirname}from"path";import{fileURLToPath}from"url";const __dirname=dirname(fileURLToPath(import.meta.url)),app=express(),port=3e3;var userIsLoggedIn=!1;function logout(){window.location.href="/logout"}function passwordCheck(req,res,next){const password=req.body.password;userIsLoggedIn="user123"===password,next()}app.use(bodyParser.urlencoded({extended:!0})),app.use(express.static("public")),app.use(passwordCheck),app.get("/",(req,res)=>{userIsLoggedIn&&res.sendFile(__dirname+"/public/index.html")}),app.post("/check",(req,res)=>{userIsLoggedIn?res.sendFile(__dirname+"/public/index.html"):res.sendFile(__dirname+"/public/login.html")}),app.get("/logout",(req,res)=>{userIsLoggedIn=!1,res.sendFile(__dirname+"/public/login.html")}),app.listen(3e3,()=>{console.log("Listening on port 3000")});